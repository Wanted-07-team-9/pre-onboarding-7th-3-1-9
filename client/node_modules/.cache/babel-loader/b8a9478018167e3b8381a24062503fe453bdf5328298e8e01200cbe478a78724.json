{"ast":null,"code":"import { instance } from './ApiInstance';\nconst END_POINT = 'sick';\nexport const AxiosService = {\n  getCashSearch: async param => {\n    if ('caches' in window) {\n      if (param === '') return [];\n      const query = {\n        sickNm_like: param\n      };\n      const queryStr = new URLSearchParams(query).toString();\n      const cashStorage = await caches.open(queryStr);\n      const cashedResponse = await cashStorage.match(`${param}`);\n      if (!cashedResponse || !cashedResponse.ok) {\n        const config = {\n          params: query\n        };\n        const {\n          data\n        } = await instance.get(`/${queryStr}`, config);\n        cashStorage.put(`${param}`, new Response(JSON.stringify(data)));\n        return data;\n      }\n      const newCached = await (cashedResponse === null || cashedResponse === void 0 ? void 0 : cashedResponse.json());\n      return newCached;\n    }\n  }\n};","map":{"version":3,"names":["instance","END_POINT","AxiosService","getCashSearch","param","window","query","sickNm_like","queryStr","URLSearchParams","toString","cashStorage","caches","open","cashedResponse","match","ok","config","params","data","get","put","Response","JSON","stringify","newCached","json"],"sources":["/Users/seulgisong/Desktop/개발공부/원티드/과제5/pre-onboarding-7th-3-1-9/client/src/api/AxiosService.ts"],"sourcesContent":["import { instance } from './ApiInstance';\nconst END_POINT = 'sick';\nexport const AxiosService = {\n  getCashSearch: async (param: string) => {\n    if ('caches' in window) {\n      if (param === '') return [];\n\n      const query = {\n        sickNm_like: param,\n      };\n\n      const queryStr = new URLSearchParams(query).toString();\n      const cashStorage = await caches.open(queryStr);\n      const cashedResponse = await cashStorage.match(`${param}`);\n\n      if (!cashedResponse || !cashedResponse.ok) {\n        const config = {\n          params: query,\n        };\n        const { data } = await instance.get(`/${queryStr}`, config);\n        cashStorage.put(`${param}`, new Response(JSON.stringify(data)));\n        return data;\n      }\n      const newCached = await cashedResponse?.json();\n      return newCached;\n    }\n  },\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,eAAe;AACxC,MAAMC,SAAS,GAAG,MAAM;AACxB,OAAO,MAAMC,YAAY,GAAG;EAC1BC,aAAa,EAAE,MAAOC,KAAa,IAAK;IACtC,IAAI,QAAQ,IAAIC,MAAM,EAAE;MACtB,IAAID,KAAK,KAAK,EAAE,EAAE,OAAO,EAAE;MAE3B,MAAME,KAAK,GAAG;QACZC,WAAW,EAAEH;MACf,CAAC;MAED,MAAMI,QAAQ,GAAG,IAAIC,eAAe,CAACH,KAAK,CAAC,CAACI,QAAQ,EAAE;MACtD,MAAMC,WAAW,GAAG,MAAMC,MAAM,CAACC,IAAI,CAACL,QAAQ,CAAC;MAC/C,MAAMM,cAAc,GAAG,MAAMH,WAAW,CAACI,KAAK,CAAE,GAAEX,KAAM,EAAC,CAAC;MAE1D,IAAI,CAACU,cAAc,IAAI,CAACA,cAAc,CAACE,EAAE,EAAE;QACzC,MAAMC,MAAM,GAAG;UACbC,MAAM,EAAEZ;QACV,CAAC;QACD,MAAM;UAAEa;QAAK,CAAC,GAAG,MAAMnB,QAAQ,CAACoB,GAAG,CAAE,IAAGZ,QAAS,EAAC,EAAES,MAAM,CAAC;QAC3DN,WAAW,CAACU,GAAG,CAAE,GAAEjB,KAAM,EAAC,EAAE,IAAIkB,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC,CAAC;QAC/D,OAAOA,IAAI;MACb;MACA,MAAMM,SAAS,GAAG,OAAMX,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEY,IAAI,EAAE;MAC9C,OAAOD,SAAS;IAClB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}